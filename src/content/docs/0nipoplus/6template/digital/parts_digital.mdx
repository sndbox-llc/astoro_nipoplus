---
slug: nipoplus/template/digital
title: 数値入力フォーム
description: 売上、生産数、点検値、稼働時間など、あらゆる数値を正確に記録・集計するためのテンプレートパーツです。CSV出力してエクセル上で加工するデータとしても最適です。
sidebar:
  label: 🧩数値入力
---

import ExcelTable from '@components/ExcelTable.astro'

集計やグラフ化が可能な数値データの入力フォームです。見た目や入力方式の違はありますが記録されるデータは同じ「数値データ」です。

<dl class="basic">
  <dt>
    <a href="#commonNumber">数値入力（汎用）</a>
  </dt>
  <dd>最もシンプルな数値入力です</dd>
  <dt>
    <a href="#rate">レート入力</a>
  </dt>
  <dd>5段階評価のようなレビュー形式の入力です。簡単操作と直感的な見た目が特徴</dd>
  <dt>
    <a href="#slider">スライダ入力</a>
  </dt>
  <dd>つまみをドラッグして数値を入力します。上限下限が決まっている場合に便利です</dd>
  <dt>
    <a href="#range">範囲入力</a>
  </dt>
  <dd>つまみをドラッグして数値を入力します。上限下限が決まっている場合に便利です</dd>
  <dt>
    <a href="#calc">算術（自動計算）</a>
  </dt>
  <dd>他の数値フォームの値を参照し、自動で計算結果を表示する特殊なフォームです。合計金額、稼働率、不良率など、計算で自動表示したい項目に便利</dd>
</dl>

数値系の入力フォームはテンプレート編集画面の左パネルから追加できます。

<hr id="commonNumber" />

## 通常の数値入力

:::note[[入力イメージはこちらから確認できます](/nipoplus/reference/inputmethod/#number)]
:::

最も一般的な数値の入力フォームを日報に追加できます。
様々な数値を記録するのに適しています。小数点や負数も入力可能です。「円」「個」「キロ」などの単位も任意に設定できます。電卓ボタンをクリックすると大きなテンキーが表示されるため入力もストレスフリーです。

### 通常の数値入力の主な用途

- 売上高
- 訪問件数
- 生産数
- 走行距離

<dl class="basic">
  <dt>集計</dt>
  <dd>✅ 対応</dd>
  <dt>CSV出力</dt>
  <dd>✅ 対応</dd>
  <dt>PDF出力</dt>
  <dd>✅ 対応</dd>
  <dt>文字検索</dt>
  <dd>✅ 対応</dd>
</dl>

### 数値入力フォーム詳細設定

<dl class="basic">
  <dt>入力必須</dt>
  <dd>ONにすると、数値が空欄だと日報の提出ができなくなります</dd>
  <dt>初期値</dt>
  <dd>日報の新規作成時に値をセットしたい場合は数値を入力してください。不要の場合は空欄にしておきます</dd>
  <dt>集計する</dt>
  <dd>ONにすると[集計機能](/nipoplus/staff/charts)で利用できます。集計が不要の場合はOFFにします</dd>
  <dt>単位</dt>
  <dd>数値入力の右端に表示されます。「個」「枚」「箱」「トン」「リットル」など、用途にあった文字を入力してください</dd>
  <dt>その他の設定</dt>
<dd><a href="/nipoplus/editor/template/#common_setting">共通設定事項をご確認ください</a></dd>

</dl>

### 数値入力フォーム集計について

- 数値データは[集計やグラフ化](/nipoplus/reference/chart)に適しています
- NipoPlusのグラフ化機能を使えばアプリ内の日報データをほぼリアルタイムに推移グラフや内訳グラフとして表示できます

![数値データをグラフ化した例。様々な実績を視覚的に把握可能](./img/math_charts_tablet.png)

### 数値入力フォームのCSV出力について

数値の単位については、CSV上のラベル（1行目）に【】に囲まれて出力されます。

{/* prettier-ignore */}
<ExcelTable>
提出日, 【Km】走行距離, 【リットル】消費ガソリン, 【件】訪問件数, 【件】内見込み, 【件】契約件数, 【千円】契約総額
2023/06/16, 3, 4, 2, 3, 22, 8
2023/06/15, 3, 5, 6, 2, 7, 9
2023/06/13, 25, 73, 36, 2, 4, 9
2023/06/11, 12, 3, 6, 1, 9, 45
2023/06/08, 11, 23, 33, 4, 16, 22
</ExcelTable>

<hr id="rate" />

## レート入力

:::note[[入力イメージはこちらから確認できます](/nipoplus/reference/inputmethod/#rate)]
:::

ネットショップやレビューサイトでおなじみの★を使った評価入力フォームです。星の上限は変更可能です。

### レート入力の主な用途

- 製品やサービスの満足度
- 従業員の作業評価
- 検査項目の重要度など

<dl class="basic">
  <dt>集計</dt>
  <dd>✅ 対応</dd>
  <dt>CSV出力</dt>
  <dd>✅ 対応</dd>
  <dt>PDF出力</dt>
  <dd>✅ 対応</dd>
  <dt>文字検索</dt>
  <dd>✅ 対応</dd>
</dl>

### レートフォーム詳細設定

<dl class="basic">
  <dt>入力必須</dt>
  <dd>ONにすると、レートが0だと日報の提出ができません（レートは2回同じレートをクリックすると0にできます）</dd>
  <dt>集計する</dt>
  <dd>ONにすると[集計機能](/nipoplus/staff/charts)で利用できます</dd>
  <dt>最大値</dt>
  <dd>レートの最大数を設定します。推奨は5〜10です。評価スケールに合わせて調整してください</dd>
  <dt>アイコンの種類</dt>
  <dd>星・ハート・いいね・ペット・ペンの5種類から選択できます。初期値は「星」です</dd>
  <dt>アイコンの大きさ</dt>
  <dd>小さめ・大きめ・最大の3種類から選択できます。初期値は「小さめ」です</dd>
  <dt>その他の設定</dt>
<dd><a href="/nipoplus/editor/template/#common_setting">共通設定事項をご確認ください</a></dd>

</dl>

:::caution[PDF出力時のアイコンについて]
アイコンを変更してもPDF出力時は●と◯で代用されます
:::

### レートフォームの集計について

レートフォームのデータは[集計・グラフ化](/nipoplus/reference/chart)が可能です。レート入力は2つの集計方式があります。

- 単純に星の数を合計した集計方法（総評価点の算出）
- 各レート毎の回数をカウントする方法（評価の内訳把握）

レート入力の結果をグラフにした例です。顧客満足度の推移、製品評価の分布などを視覚的に把握できます。

![レートのデータをグラフ化した例](./img/rate-charts_tablet.png)

### レートフォームのCSV出力について

レートのデータは[CSV出力オプション](/nipoplus/reference/csvsettings)で列展開の形式を変更可能です。

#### 列展開がONの場合のCSV出力例

{/* prettier-ignore */}
<ExcelTable>
提出日, 調査地住所, 【0】日当たり, 【1】日当たり, 【2】日当たり, 【3】日当たり, 【4】日当たり, 【5】日当たり
2023/06/11 09:35, 栃木県日光市XXX-X, -, -, ⭕, -, -, -
2023/06/10 09:35, 栃木県那須烏山市XXX-X, -, -, ⭕, -, -, -
2023/06/09 09:35, 栃木県真岡市XXX, -, -, ⭕, -, -, -
2023/06/08 09:35, 栃木県宇都宮市XXXX, -, -, -, -, ⭕, -
</ExcelTable>

#### 列展開がOFFの場合のCSV出力例

{/* prettier-ignore */}
<ExcelTable>
提出日, 調査地住所, 日当たり, 利便性, 周囲の静音性
2023/06/11 09:35, 栃木県日光市XXX-X, 2, 2, 1
2023/06/10 09:35, 栃木県那須烏山市XXX-X, 2, 1, 5
2023/06/09 09:35, 栃木県真岡市XXX, 2, 1, 2
2023/06/08 09:35, 栃木県宇都宮市XXXX, 4, 2, 5
</ExcelTable>

列展開がONだと列数が多くなります

<hr id="slider" />

## スライダ入力

:::note[[入力イメージはこちらから確認できます](/nipoplus/reference/inputmethod/#slider)]
:::

- キーボードを使わずに、つまみをドラッグする直感的な操作で数値を入力できるフォームです
- 特にスマートフォンやタブレットなどのタッチパネルからの入力に適しています
- 上限、下限があるため、特定の範囲内に収まる数値入力に限定されます。

### スライダ入力の主な用途

- 室温、湿度、圧力、騒音レベルなど、上限下限がある程度決まっている環境データの記録
- パーセンテージで表現する進捗度や達成率の入力
- 設備の異常度合いを段階的に示す記録

<dl class="basic">
  <dt>集計</dt>
  <dd>✅ 対応</dd>
  <dt>CSV出力</dt>
  <dd>✅ 対応</dd>
  <dt>PDF出力</dt>
  <dd>✅ 対応</dd>
  <dt>文字検索</dt>
  <dd>✅ 対応</dd>
</dl>

:::caution[「本日の来客者」のように、上限が予測できないデータには不向きです]
:::

### スライダフォームの初期設定

<dl class="basic">
  <dt>初期値</dt>
  <dd>日報新規作成時にスライダのつまみが配置される位置です。最小値と最大値の中間となる値を推奨します</dd>
  <dt>最小値</dt>
  <dd>スライダーの左端の値です。負数も利用できます。測定の下限値や許容範囲の最低値を設定します</dd>
  <dt>最大値</dt>
  <dd>スライダーの右端の値です。負数も利用できます。測定の上限値や許容範囲の最大値を設定します</dd>
  <dt>集計する</dt>
  <dd>ONにすると[集計機能](/nipoplus/staff/charts)で利用できます。集計が不要の場合はOFFにします </dd>
  <dt>刻み</dt>
  <dd>つまみを動かしたときに増減する値です。小数点以下の指定も可能です。初期値は1です。より細かい単位で記録したい場合に設定します</dd>
  <dt>単位</dt>
  <dd>スライダの数値の右側に表示されます。初期値は「ポイント」です。「℃」「％」「hPa」など、用途に合わせた単位を設定してください </dd>
  <dt>入力必須</dt>
  <dd>ONにすると、提出時に未入力だと提出ができません</dd>
  <dt>その他の設定</dt>
<dd><a href="/nipoplus/editor/template/#common_setting">共通設定事項をご確認ください</a></dd>

</dl>

:::caution[操作性の低下に注意]
レートの上限下限が極端に広い、または刻みの単位が極端に小さいと、スライダの密度が高くなり操作性が低下する可能性があります
:::

### スライダフォームの集計

データ分析とCSV出力:
スライダで入力された値は数値データとして[集計・グラフ化](/nipoplus/reference/chart)に対応しています。
スライダフォームのデータをグラフにした例です。

![スライダフォームのデータをグラフ化した例](./img/slider_charts_tablet.png)

### スライダフォームのCSV出力

スライダで入力された値は数値データとしてCSVに出力できます。単位は【】内に記載されます。

{/* prettier-ignore */}
<ExcelTable>
提出日, 【mm】線形誤差, 【mm】軸ズレ幅, 【mg】重量誤差, 検査報告
2023/06/13 11:04, 0, -4, 6,
2023/06/11 11:04, -3, -4, 4,
2023/06/10 11:04, -1, -2, -9,
2023/06/08 11:04, -7, 0, 9, 重量誤差過大
</ExcelTable>

<hr id="range" />

## 範囲入力 - 数値の変動範囲を記録

:::note[[入力イメージはこちらから確認できます](/nipoplus/reference/inputmethod/#range)]
:::

スライダにつまみが2つあり、これらを操作して最小値から最大値までの「範囲」を入力できるフォームです。

### 範囲入力の主な用途

- 日報における活動時間の目安
- 製造工程での温度・圧力の許容範囲、
- 環境モニタリングでの水温・気圧の変動範囲など

ある程度の幅を持った数値を記録するのに適しています。用途としてはやや限定的ですが特定の業務では非常に役立ちます

<dl class="basic">
  <dt>集計</dt>
  <dd>❌ 非対応</dd>
  <dt>CSV出力</dt>
  <dd>✅ 対応</dd>
  <dt>PDF出力</dt>
  <dd>✅ 対応</dd>
  <dt>文字検索</dt>
  <dd>✅ 対応</dd>
</dl>

### 範囲入力の設定項目詳細

<dl class="basic">
  <dt>入力必須</dt>
  <dd>これがONの場合、範囲が未入力だと日報の提出ができなくなります。必須の測定範囲を記録する際に設定します</dd>
  <dt>初期値</dt>
  <dd>日報新規作成時に最初から文字を入力済みにできます。不要の場合は空欄にしておきます</dd>
  <dt>最小値</dt>
  <dd>スライダーの左端の値を指定します。負数も扱えます。計測値の下限や設計上の最低値を設定します</dd>
  <dt>最大値</dt>
  <dd>スライダーの右端の値を指定します。負数も扱えます。計測値の上限や設計上の最大値を設定します</dd>
  <dt>初期値（最小）</dt>
  <dd>日報作成時にスライダーの最小つまみが配置される位置を指定します</dd>
  <dt>初期値（最大）</dt>
  <dd>日報作成時にスライダーの最大つまみが配置される位置を指定します</dd>
  <dt>刻み</dt>
  <dd>つまみの1メモリ単位を指定します。例えば2なら2, 4, 6のように増えていきます。小数点も指定できます。初期値は1です。測定値の精度に合わせて設定します</dd>
  <dt>単位</dt>
  <dd>数値の単位を指定します。例えば気温であれば「℃」と入力します。単位は入力時の画面左上にヒントとして表示されます。データの意味を明確にします</dd>
  <dt>その他の設定</dt>
<dd><a href="/nipoplus/editor/template/#common_setting">共通設定事項をご確認ください</a></dd>

</dl>

:::caution[操作性の低下に注意]
レートの上限下限が極端に広い、または刻みの単位が極端に小さいと、スライダの密度が高くなり操作性が低下する可能性があります。適切な範囲と刻み幅を設定してください。
:::

### 範囲入力フォームのCSV出力について

最小値と最大値がそれぞれ独立した列に展開されてCSVに出力されます。

{/* prettier-ignore */}
<ExcelTable>
提出日, 【最小】水槽A水温範囲, 【最大】水槽A水温範囲, 【最小】水槽B水温範囲, 【最大】水槽B水温範囲, 点検報告
2023/06/11 01:28, 22, 27, 11, 20,
2023/06/10 01:28, 24, 29, 14, 16,
2023/06/09 01:28, 20, 23, 12, 20,
2023/06/08 01:28, 22, 28, 14, 19, 水温異常なし
</ExcelTable>

<hr id="calc" />

## 算術フォーム

算術フォームは他のフォームと異なり、ユーザーが直接データを入力することはできません。他の数値入力フォームの値を参照し、自動で計算後の結果を表示する特殊なフォームです。

![例えば税込み金額を出すといった決まった計算に便利](./img/calc-icatch_tablet.png)

### 算術フォームの主な用途

- 製品の製造数と不良数から不良率を自動計算する
- 複数の費用項目から合計金額を自動計算する
- 稼働時間と総時間から稼働率を自動計算する
- 売上金額とコストから利益率を自動計算する

<dl class="basic">
  <dt>集計</dt>
  <dd>✅ 対応</dd>
  <dt>CSV出力</dt>
  <dd>✅ 対応</dd>
  <dt>PDF出力</dt>
  <dd>✅ 対応</dd>
  <dt>文字検索</dt>
  <dd>❌ 非対応</dd>
</dl>

### 算術フォームの設定項目詳細

最も重要なのは、正しい計算式を作成することです。計算式に使えるエレメントは以下の通りです。

- 基本的な四則演算（＋・ー・✕・÷）
- カッコ（計算の優先度を変える）
- 他の入力フォーム（詳細は本ページ末尾参照）

割り算で端数が出る可能性があるものは、四捨五入する位を指定できます。
電卓の要領で式を入力し、「保存して終了」ボタンをクリックして式を保存します。
式が正しく機能するかはプレビューで確認してください。

### 算術で利用可能な入力フォーム

計算式として利用できる入力フォームは以下のとおりです。これらのフォームに数値が入力されると、算術フォームが自動で計算を行います。

- [数値入力フォーム](#commonNumber)
- [レート入力フォーム](#rate)
- [スライダ入力フォーム](#slider)
- [選択式入力フォーム](/nipoplus/template/selects/#plain)

選択式入力フォームの場合、選択肢の単語中に数字が含まれていると、その数字が計算式に利用されます。
例えば次のように設計してください

<select class="form-select" id="platformSelect" name="platformSelect">
      <option value="">選択肢に数値を含める例（ここをクリック）</option>    <option value="windows">1.りんご</option>    <option value="mac">2.ばなな</option>    <option value="ios">3.みかん</option>    <option value="android">4.メロン</option> {' '}
</select>

※この例でいうと「3.みかん」が選ばれると、算術上は「3」として計算されます。

:::caution[集計がOFFだと対象になりません]
各種フォームの設定で「集計する」の機能をOFFにすると、算術の参照元として使用できません
:::

### 反復入力フォームの中で算術を使う

反復入力の中で使う場合、その反復の中で計算を完結させる必要があります（反復の外のデータは参照できません）。
これにより、複数行にわたる作業の合計時間やコスト、生産数などを、行ごとに自動計算できるようになります。
