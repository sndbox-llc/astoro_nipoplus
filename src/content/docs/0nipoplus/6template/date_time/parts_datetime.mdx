---
slug: nipoplus/template/date_time
title: 日付・時刻入力フォーム
description: 作業時間や点検実施日時、トラブル発生時刻などの記録に便利な日付・時刻入力フォームです。
sidebar:
  label: 🧩日付時刻
---

import ExcelTable from '@components/ExcelTable.astro'

![日報の作業開始・終了時刻、設備点検の実施日時、作業期間などに](./img/date-time_tablet.png)

## 概要 - 日時情報の正確な記録と管理

日付や時刻の入力に特化した入力フォームです。NipoPlusでは、日報や点検表を書く際に「提出日」があらかじめ（テンプレートとは別に）用意されていますが、それ以外で特定のイベント発生日時、作業の開始・終了時刻、設備の稼働期間などを記録する場合に使用してください。

例えば、作業に掛かった時間や、製造工程の開始〜終了時刻、巡回点検の実施時刻といった入力に適しています。

NipoPlusでは大きく分けて2種類の日付・時刻入力フォームを提供しています。

<dl class="basic">
  <dt>
    <a href="#point">日付と時刻（時点）</a>
  </dt>
  <dd>作業終了時刻や点検実施日時、トラブル発生時刻など、特定の一時点の入力に適しています。単独のタイムスタンプとして記録します</dd>
  <dt>
    <a href="#range">日付と時刻（期間）</a>
  </dt>
  <dd>稼働時間、作業時間、滞留時間のように「開始時点〜終了時点」の期間入力に適しています。日付や時刻を入力すると、自動で所要時間（経過時間）が計算されて画面に表示され、工数管理や設備稼働率の把握に役立ちます</dd>
</dl>

<hr id="point" />

## 日付と時刻（時点） - 特定の時点を記録

特定の出来事やイベントが発生した一時点の日付と時刻を記録するフォームです。日報における業務開始・終了時間、点検の完了時刻、トラブル発生のタイムスタンプなど、定点的な記録に利用します。

| 集計可否 | CSV出力 | PDF出力 | 文字検索 |
| :------: | :-----: | :-----: | :------: |
|    ✗     |   ⭕    |   ⭕    |    ⭕    |

日付と時刻(時点)は単体の時間情報のため、集計処理には対応していません（期間入力フォームは集計可能です）。

### 日付と時刻（時点）フォームの初期設定

![左のパーツリストから日付と時刻を追加する](./img/datetime-template-edit_tablet.png)

追加するにはサイドメニューから「日付と時刻」をクリックします。
「日付のみ」「時間のみ」「日付と時刻」といった形式は初期設定で柔軟に設定できます。入力方法はキーボードから直接打つ方法のほか、カレンダーや時計マークから入力する方法がありますので、好みに応じて使い分けができます。

種類が多いので、実際の見た目はプレビューを開いて確認してください。

<details>
  <summary>詳細設定</summary>

<dl class="basic">
  <dt>入力必須</dt>
  <dd>これがONの場合、日付や時刻が空欄だと日報の提出ができなくなります。重要な記録の入力漏れを防ぐ際に設定します</dd>
  <dt>形式</dt>
  <dd>
    <ul>
      <li>日付（西暦あり）：YYYY/MM/DD形式。例：2022/12/01</li>
      <li>日付（西暦無し）：MM/DD形式。例：12/01</li>
      <li>時刻のみ：HH:mm形式。例：13:21</li>
      <li>日付と時刻：YYYY/MM/DD HH:mm形式。例：2022/12/01 13:21</li>
    </ul>
    から選択します。用途に合わせて最適な形式を選んでください。
  </dd>
</dl>

入力形式の4種類については次のような形式になります。

|     入力形式     |   フォーマット   |        例        | 入力切替 |
| :--------------: | :--------------: | :--------------: | :------: |
| 日付（西暦有り)  |    YYYY/MM/DD    |    2022/12/01    |    可    |
| 日付（西暦なし） |      MM/DD       |      12/01       |   不可   |
|     時刻のみ     |      HH:mm       |      13:21       |    可    |
|    日付と時刻    | YYYY/MM/DD HH:mm | 2022/12/01 13:21 |   不可   |

補足：[共通設定事項](/nipoplus/editor/template/#common_setting)もご確認ください。

</details>

### 日付と時刻のデータをCSVに出力

日付と時刻データはCSVに出力できます。出力は通常の文字列データとして行われます。

{/* prettier-ignore */}
<ExcelTable>
提出日, 提出者, 提出者名, 状態, 予約日, 開始の時間, 実行の日時, 記念日, 約束の時間１, 時間だけ
2022/7/17 1:32, mM, 管理者, 新規, 7月17日, 2022/7/17 13:43, 2022/7/12, 2022/7/17, 13:33, 13:33
</ExcelTable>

<hr id="range" />

## 日付と時刻（期間） - 所要時間の自動計算と工数管理

作業にかかった時間や日数を入力するのに最適なフォームです。「開始時点〜終了時点」を入力することで、その間の期間（所要時間）を自動で計算し表示します。これにより、作業工数、設備稼働時間、特定の工程に要した時間などを正確に記録・集計できます。

![作業時間、設備の稼働期間、特定の工程に要した時間などに](./img/datetimes-icatch_tablet.png)

| 集計可否 | CSV出力 | PDF出力 | 文字検索 |
| :------: | :-----: | :-----: | :------: |
|    ⭕    |   ⭕    |   ⭕    |    ⭕    |

### 日付と時刻（期間）フォームの初期設定

<dl class="basic">
  <dt>入力必須</dt>
  <dd>これがONの場合、日付や時刻が空欄だと日報の提出ができなくなります。作業開始・終了時刻の入力漏れを防ぐ際に設定します</dd>
  <dt>初期状態でONにする</dt>
  <dd>これがONの場合、日報作成時にこのチェックボックスはONの状態でスタートします。デフォルトでONにしたい場合に設定します</dd>
  <dt>集計する</dt>
  <dd>ONにすると[集計機能](/nipoplus/staff/charts)で利用できます。作業時間や稼働時間の合計をグラフで可視化したい場合に設定します</dd>
  <dt>形式</dt>
  <dd>
    <ul>
      <li>日付（西暦あり）</li>
      <li>日付（西暦無し）</li>
      <li>時刻のみ</li>
      <li>日付と時刻</li>
    </ul>
    4種類から選択します。期間入力の形式に合わせて選択してください。
  </dd>
  <dt>スライダ上の最小（時刻のみ）</dt>
  <dd>スライダ式で時刻入力する際のスライダの左端を何時にするか設定します。初期値は8:00です。始業時間などに合わせて調整できます</dd>
  <dt>スライダ上の最大（時刻のみ）</dt>
  <dd>スライダ式で時刻入力する際のスライダの右端を何時にするか設定します。初期値は20:00です。終業時間などに合わせて調整できます</dd>
  <dt>刻み（時刻のみ）</dt>
  <dd>1目盛りあたり何分進めるか設定します。初期値は30分です。より細かく時間を管理したい場合に設定します</dd>
</dl>

入力形式の4種類については次のような形式になります。

|     入力形式     |   フォーマット   |        例        | 入力切替 |
| :--------------: | :--------------: | :--------------: | :------: |
| 日付（西暦有り)  |    YYYY/MM/DD    |    2022/12/01    |    可    |
| 日付（西暦なし） |      MM/DD       |      12/01       |   不可   |
|     時刻のみ     |      HH:mm       |      13:21       |    可    |
|    日付と時刻    | YYYY/MM/DD HH:mm | 2022/12/01 13:21 |   不可   |

補足：[共通設定事項](/nipoplus/editor/template/#common_setting)もご確認ください。

日付と時刻（期間）では、入力した期間を下に自動で差分（経過した時間）を計算し画面に表示します。

:::note[反復入力との組み合わせ]
[反復入力](/nipoplus/template/array)の中で日付と時刻（期間）を使い、かつ入力形式が「時刻のみ」の場合、時刻の始点が自動セットされる入力補助が発動します。これにより、複数タスクの開始時刻を連続して入力する際の手間を軽減できます。
:::

### 期間入力の集計は分単位で行われる

期間入力フォームで記録された時間は集計が可能です。集計は単位が「分」に統一されることに注意してください。
例えば10:00 - 11:30は1時間半ですが、集計上は90分となります。この集計結果は、作業工数の合計、設備稼働時間の累計などを把握するのに役立ちます。

![期間のデータ（単位：分）を使って棒グラフを作成した例](./img/charts_tablet.png)

[日報のグラフ化についてはこちら](/nipoplus/reference/chart)

#### CSV出力

CSV出力時は開始時点・終了時点の2列に分けて出力されます。

{/* prettier-ignore */}
<ExcelTable>
提出日, 【自】総稼働時間, 【至】総稼働時間, 【休憩】総稼働時間, 【自】内停止した時間, 【至】内停止した時間, 【休憩】内停止した時間, 業務報告
2023/06/13 08:44, 11:00, 23:00, , 21:10, 22:00, ,
2023/06/12 08:44, 14:00, 19:00, , 18:00, 18:39, ,
2023/06/09 08:44, 11:11, 22:22, , 14:00, 15:00, ,
2023/06/08 08:44, 08:00, 22:00, , 15:45, 19:00, , 停止した時間が長い
</ExcelTable>
