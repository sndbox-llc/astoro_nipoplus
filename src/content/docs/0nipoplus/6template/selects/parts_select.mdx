---
slug: nipoplus/template/selects
title: 選択入力フォーム
description: 予め用意した回答リストから選択するだけで入力可能なフォームを日報テンプレートに組み込みます
sidebar:
  label: 🧩選択入力
---

import ExcelTable from '@components/ExcelTable.astro'

キーボード不要で入力できる便利なフォームです。主に次の酒類があります。

<dl class="basic">
  <dt>
    <a href="#plain">選択入力（単体）</a>
  </dt>
  <dd>一覧から1つ回答を選びます。見た目はラジオボタンです</dd>
  <dt>
    <a href="#multiple">選択入力（複数）</a>
  </dt>
  <dd>一覧から複数個を選べます。見た目はチェックボックスです</dd>
  <dt>
    <a href="#checkbox">チェックボックス</a>
  </dt>
  <dd>YESかNO、またはON/OFFの2択で回答します。見た目はチェックボックスかスイッチから選べます。</dd>
</dl>

<hr id="plain" />

## 選択入力（単体）

:::note[[入力イメージはこちらから確認できます](/nipoplus/reference/inputmethod/#select)]
:::

予め用意した回答リスト（選択肢）の中から1つを選んで入力します。

### 選択入力（単体）の主な用途

- 製造業における機器の稼働状態（例：「稼働中」「停止中」「点検中」）
- 本日の業務区分
- 天候の選択
- 作業場所の選択
- 作業内容の分類選択
- その他、あらかじめ決められた選択肢から1つを選ぶ場合

<dl class="basic">
  <dt>集計</dt>
  <dd>対応</dd>
  <dt>CSV出力</dt>
  <dd>対応</dd>
  <dt>PDF出力</dt>
  <dd>対応</dd>
  <dt>文字検索</dt>
  <dd>非対応</dd>
</dl>

### 選択入力（単体）の設定

<dl class="basic">
  <dt>選択肢</dt>
  <dd>1行に1つの選択単語を入力します</dd>
  <dt>入力切替を無効にする</dt>
  <dd>日報作成時に入力方式（ラジオ/プルダウン）を変更するボタンが非表示になります</dd>
  <dt>入力必須</dt>
  <dd>選択肢が選ばれていないと日報の提出ができなくなります</dd>
  <dt>集計する</dt>
  <dd>このフォームの回答データが[集計機能](/nipoplus/staff/charts/)で利用できます</dd>
  <dt>選択肢を語録から取得</dt>
  <dd>[語録機能](/nipoplus/editor/wordBookManagement/)を使って単語リストを指定します</dd>
  <dt>入力方式</dt>
  <dd>
    <ul>
      <li>ラジオ式：一覧から1つを選ぶ形式。選択肢が少ない場合に最適</li>
      <li>プルダウン式：ドロップダウンリストから1つを選ぶ形式。選択肢が多い場合に最適</li>
    </ul>
  </dd>
  <dt>その他の入力を許可する</dt>
  <dd>選択肢に存在しない入力が必要なとき、キーボードで直接入力することを許可します</dd>
  <dt>動的変化</dt>
  <dd>他の選択肢入力フォームで選ばれた値に応じて本フォームの選択リストを変化させます。詳しくは動的変化を御覧ください</dd>
  <dt>その他の設定</dt>
  <dd>
    <a href="/nipoplus/editor/template/#common_setting">共通設定事項をご確認ください</a>
  </dd>
</dl>

[単語の色分けについて](#color)はこちらをご覧ください。

### 選択入力（単体）の集計について

[集計・グラフ化](/nipoplus/staff/charts/)が可能です。

- 単語が選ばれた回数を自動集計し、円グラフや棒グラフとして表示できます。
- 選択式の単語に数字が含まれていれば、その値を数値として集計やグラフ化できます。
- [CSV出力オプションを変更](/nipoplus/reference/csvsettings/)することで列展開の出力形式を変更できます。

![選択肢は単語だが数値に置き換えてグラフ化することも可能](./img/num-select_tablet.png)

#### CSV出力オプションにて列展開がONの場合のCSV出力

各選択肢が個別の列に展開されます

{/* prettier-ignore */}
<ExcelTable>
提出日, 【軽自動車】使用車両, 【乗用車】使用車両, 【トラック】使用車両, 【スクーター】使用車両, 【十分にある】ガソリン残量, 【半分を下回った】ガソリン残量, 【四分の１を下回った】ガソリン残量, 【給油が必要】ガソリン残量
2023/06/11, -, ⭕, -, -, -, -, -, ⭕
2023/06/10, ⭕, -, -, -, ⭕, -, -, -
2023/06/09, -, ⭕, -, -, -, ⭕, -, -
2023/06/08, -, -, -, ⭕, ⭕, -, -, -
2023/06/07, -, ⭕, -, -, -, ⭕, -, -
</ExcelTable>

例えば使用車両という１つの項目に対して４列（B〜E列）展開していることがわかります。

#### CSV出力オプションにて列展開がOFFの場合のCSV出力

1つの列にまとめて出力されます

{/* prettier-ignore */}
<ExcelTable>
提出日, 使用車両, ガソリン残量, 業務報告
2023/06/11 09:04, 乗用車, 給油が必要, 略
2023/06/10 09:04, 軽自動車, 十分にある, 略
2023/06/09 09:04, 乗用車, 半分を下回った, 略
2023/06/08 09:04, スクーター, 十分にある, 略
2023/06/07 09:04, 乗用車, 半分を下回った, 略
</ExcelTable>

選択肢の数に関係なく、1つの列にまとめて出力されます。データ分析の用途に合わせて選択してください。

<hr id="multiple" />

## 選択入力（複数）

:::note[[入力イメージはこちらから確認できます](/nipoplus/reference/inputmethod/#select2)]
:::

回答から複数個を選択することができる入力フォームです。
見た目はチェックボックスが並んだような表示形式になります。

### 選択入力（複数）の主な用途

- 使用機材の複数選択（例：「溶接機」「グラインダー」「ドリル」）
- 品質チェック項目の中で該当する不具合を複数選択する場合
- 本日の作業内容を複数選択する場合
- その他、あらかじめ決められた選択肢から複数を選ぶ場合

<dl class="basic">
  <dt>集計</dt>
  <dd>対応</dd>
  <dt>CSV出力</dt>
  <dd>対応</dd>
  <dt>PDF出力</dt>
  <dd>対応</dd>
  <dt>文字検索</dt>
  <dd>非対応</dd>
</dl>

### 選択入力（複数）の設定

選択入力（単体）と同じです。そちらを参照して下さい。

[単語の色分けについて](#color)はこちらをご覧ください。

#### CSV出力オプションにて列展開がONの場合のCSV出力

各選択肢が個別の列に展開されます

- [CSV出力オプションについてはこちら](/nipoplus/reference/csvsettings/)

{/* prettier-ignore */}
<ExcelTable>
提出日, 【のこぎり】使用機材, 【金槌】使用機材, 【かんな】使用機材, 【タッカー】使用機材, 【墨つぼ】使用機材, 作業報告内容を書く # 列を簡略化
2023/06/11 11:37, -, ⭕, ⭕, -, -,
2023/06/10 11:37, -, ⭕, ⭕, ⭕, -,
2023/06/09 11:37, ⭕, -, -, -, ⭕,
2023/06/08 11:37, ⭕, ⭕, ⭕, -, ⭕,
</ExcelTable>

#### CSV出力オプションにて列展開がOFFの場合のCSV出力

1つのセルに複数の回答がまとめられます

- [CSV出力オプションについてはこちら](/nipoplus/reference/csvsettings/)

{/* prettier-ignore */}
<ExcelTable>
提出日, 使用機材, 使用車両, 不具合状況, 業務報告
2023/06/11 11:37, "かんな 金槌", トラックB, 工具不足,
2023/06/10 11:37, "かんな 金槌 タッカー", "トラックA トラックB", 遅延あり,
2023/06/09 11:37, のこぎり, 軽トラックA, "機材不足 工具不足",
2023/06/08 11:37, "かんな 金槌 のこぎり 墨つぼ", トラックB, "遅延あり 機材不足 工具不足", 作業報告内容を書く
</ExcelTable>

<hr id="checkbox" />

## チェックボックス入力

:::note[[入力イメージはこちらから確認できます](/nipoplus/reference/inputmethod/#checkbox)]
:::

ON/OFFの2択で回答する際に利用するフォームです。

- 見た目はチェックボックスまたはスイッチから選択できます

### チェックボックスの主な用途

- 設備が「稼働中」か「停止中」か
- 作業が「完了」したか「未完了」か
- 点検項目が「異常なし」か「異常あり」か
- その他、YES/NO、ON/OFFの2択で回答する場合

<dl class="basic">
  <dt>集計</dt>
  <dd>対応</dd>
  <dt>CSV出力</dt>
  <dd>対応</dd>
  <dt>PDF出力</dt>
  <dd>対応</dd>
  <dt>文字検索</dt>
  <dd>非対応</dd>
</dl>

### チェックボックスの設定

<dl class="basic">
  <dt>メモ</dt>
  <dd>チェックボックスの右隣に表示されます。他のフォームのメモと異なり、ボックスの横に配置される点にご注意ください</dd>
  <dt>入力必須</dt>
  <dd>ONにすると、提出時にこのチェックボックスがONでないと日報が提出できないようになります。同意の確認や必須作業の完了チェックに設定します</dd>
  <dt>初期状態でON</dt>
  <dd>ONにすると、日報作成時にチェックボックスはONの状態でスタートします。デフォルトでONにしたい場合に設定します</dd>
  <dt>集計する</dt>
  <dd>ONにすると[集計機能](/nipoplus/staff/charts/)で利用できます。チェック項目の達成率や異常発生率などをグラフで可視化したい場合に設定します</dd>
  <dt>CSV出力時列を展開</dt>
  <dd>[CSV出力オプション](/nipoplus/reference/csvsettings/)を参照してください</dd>
  <dt>形状</dt>
  <dd>
    <ul>
      <li>スイッチ</li>
      <li>ボックス</li>
    </ul>
  </dd>
  <dt>その他の設定</dt>
<dd><a href="/nipoplus/editor/template/#common_setting">共通設定事項をご確認ください</a></dd>

</dl>

### チェックボックスの集計

チェックボックスのデータは[集計対象](/nipoplus/staff/charts/)です。

![チェックボックスのデータを円グラフにしたイメージ](./img/pie-charts_tablet.png)

- [日報をグラフ化する方法はこちら](/nipoplus/reference/chart/)
- [CSV出力オプションについてはこちら](/nipoplus/reference/csvsettings/)

#### CSV出力オプションにて列展開がONの場合のCSV出力

ON/OFFの状態が個別の列に展開されます

{/* prettier-ignore */}
<ExcelTable>
提出日, 【ON】質問A, 【OFF】質問A, 【ON】質問B, 【OFF】質問B, 業務内容
2023/06/06, ⭕, -, ⭕, -,
2023/06/06, -, ⭕, -, ⭕,
2023/06/06, -, ⭕, ⭕, -,
2023/06/06, ⭕, -, -, ⭕,
2023/06/06, ⭕, -, ⭕, -, これはサンプルです
</ExcelTable>

#### CSV出力オプションにて列展開がOFFの場合のCSV出力

ON/OFFの状態が1つの列にまとめられます

{/* prettier-ignore */}
<ExcelTable>
提出日, 質問A, 質問B, 業務内容
2023/06/06 11:15, ON, ON,
2023/06/05 11:15, OFF, OFF,
2023/06/04 11:15, OFF, ON,
2023/06/02 11:15, ON, OFF,
2023/06/01 11:15, ON, ON, これはサンプルです
</ExcelTable>

<hr id="layerd" />

## ２層式選択

:::caution[２層式は非推奨となりました。動的変化をご利用ください]
より柔軟で高機能な[動的変化](#dinamic_switch_select)機能をご利用下さい。
:::

問1の設問によって問2の回答リストが変化する入力フォームです。
例えば問1の回答が「野菜」だった場合と、「果物」だった場合でそれぞれ問2の選択肢が変わります。

![２層式の詳細設定](./img/template_tablet.png)

1. 選択肢のリストを作る
2. 各選択肢に対して、連動する選択肢リストを作る

### ２層式選択の設定

<dl class="basic">
  <dt>入力必須</dt>
  <dd>選択肢が選ばれていないと日報の提出ができません</dd>
  <dt>入力方式</dt>
  <dd>ラジオ式・プルダウン式から選択できます</dd>
  <dt>選択肢</dt>
  <dd>問1の選択肢を入力します。改行で区切ります</dd>
  <dt>〜〜が選ばれたときに表示する選択肢</dt>
  <dd>〜〜には「選択肢」で追加した項目が入ります。選択肢の数だけこの項目が生成されます</dd>
  <dt>その他の設定</dt>
<dd><a href="/nipoplus/editor/template/#common_setting">共通設定事項をご確認ください</a></dd>

</dl>

[単語の色分けについて](#color)も可能です。

### ２層式選択のCSV出力例

選択肢(2層式)をCSVに出力すると、答1・答2の2列に展開されてCSVに出力されます。

{/* prettier-ignore */}
<ExcelTable>
状態, 文書ID, 承認者1, 【答1】野菜, 【答2】野菜, 【答1】パソコン, 【答2】パソコン, 【答1】お酒, 【答2】お酒
進行, u4PIRvw, 管理者A, くだもの, バナナ, デスクトップ, Mac Mini, ウィスキー, ラフロイグ
</ExcelTable>

<hr id="color" />

## 選択肢の色分けについて

[選択入力（単体）](#plain)、[選択入力（複数）](#multiple)、[２層式選択](#layerd)の3種類のフォームは、各選択肢に色分けが可能です。

単語を色分けする場合は単語の後ろに`###色名`をつけてください。

```text
例：
りんご###red
ぶどう###blue
```

正しく設定されているかはプレビューを見て確認してください。使用可能な色は以下のとおりです。

<dl class="basic">
  <dt>red</dt>
  <dd style="color:red">■これはサンプルです</dd>
  <dt>pink</dt>
  <dd style="color:pink">■これはサンプルです</dd>
  <dt>purple</dt>
  <dd style="color:purple">■これはサンプルです</dd>
  <dt>indigo</dt>
  <dd style="color:indigo">■これはサンプルです</dd>
  <dt>blue</dt>
  <dd style="color:blue">■これはサンプルです</dd>
  <dt>cyan</dt>
  <dd style="color:cyan">■これはサンプルです</dd>
  <dt>teal</dt>
  <dd style="color:teal">■これはサンプルです</dd>
  <dt>green</dt>
  <dd style="color:green">■これはサンプルです</dd>
  <dt>lime</dt>
  <dd style="color:lime">■これはサンプルです</dd>
  <dt>orange</dt>
  <dd style="color:orange">■これはサンプルです</dd>
  <dt>brown</dt>
  <dd style="color:brown">■これはサンプルです</dd>
  <dt>gray</dt>
  <dd style="color:gray">■これはサンプルです</dd>
</dl>

<hr id="dinamic_switch_select" />

## 選択肢のリストを動的に変化させる

:::note[この機能は有料プラン限定です]
:::

[選択入力 単一選択](#plain)および[選択入力 複数選択](#multiple)は、他の選択式入力フォームの回答結果により、自身の選択肢リストを動的に変更する機能があります。これを動的変化機能といいます。

例えば次のような動きが実現できます。

1. 地域に「北関東」を選ぶ
2. 支店の選択肢が「栃木県宇都宮支店・栃木県栃木市支店」に変化する

![プログラミングの知識がなくてもプログラミングっぽいテンプレートが作れる](./img/dinamic-selection_tablet.webp)

### 動的変化の設定方法

動的変化を使うにはテンプレートの設定画面から行います。
参照先・参照先の値・変化後のリストでワンセットです。

<dl class="basic">
  <dt>参照先</dt>
  <dd>変化を引き起こす元のフォームです。先の例でいうと「地域」がこれに該当します</dd>
  <dt>参照先の値</dt>
  <dd>参照先に何が選ばれたときかを決めます。「北関東が選ばれたとき」のように指定します</dd>
  <dt>変化後のリスト</dt>
  <dd>条件が満たされた場合に表示したい選択肢リストを記述します。北関東が選ばれたときは「宇都宮支店・栃木市支店」のように列挙します</dd>
</dl>

![動的変化の設定例](./img/dinamic-selection-setting_tablet.webp)

1. 変化させたい選択入力フォームの設定を開く（変化を起こす参照先ではなく、変化させられる側のフォームを開く）
1. 動的変化の下にある＋ボタンをクリック
1. 参照先・参照先の値・変化後のリストを設定

:::caution[選択肢（複数）を参照先として指定する場合の注意点]
[選択入力 複数選択](#multiple)を参照先として指定する場合、
参照先の値は複数選択することになりますが、すべての選択肢にマッチしたときに条件が成立となります
:::

#### 複数条件がある場合の優先度

動的変化の条件は複数指定することができます。先の例であれば、

- 「北関東」を選んだとき
- 「関東」を選んだとき
- 「北陸」を選んだとき

上記3つの条件を指定できます。
このように条件を重ねがけしたとき、条件は**より上の配置された条件が優先**されます。

:::note[複数条件を満たしたときはより上のリストに変化します]
:::

### 動的変化が使えないケース

- 動的変化させるにはトリガーとなるための参照先フォームが必要です
- テンプレート内にフォームが1個しかない場合参照する対象が無いため利用できません

条件を満たしていないとき、動的変化の画面には「このテンプレートでは動的変化をつかう条件を満たしていません」と表示されます。

動的変化を使用する具体的な条件は以下のとおりです。

- 自身の[選択入力フォーム](#plain)の他に別の[選択入力フォーム](#plain)が存在すること
- 上記のフォームが[語録機能](/nipoplus/editor/wordBookManagement/)を無効にしていること
- [無料プラン](/nipoplus/price/free/)では無いこと

上記条件を満たすことで動的変化設定が可能になります。

### 動的変化を反復入力と組み合わせて使う

- 動的変化を[反復入力](/nipoplus/template/array/)と組み合わせて使用できます
- 反復入力内で動的変化を使う際は変化の監視対象が同じ反復入力フォーム内の同じ行のデータに依存します

![訪問先エリアを監視対象にすると、その行ごとに選択肢が動的に変化する](./img/dinamicValiable_tablet.webp)

1行目の訪問先エリア「北関東」が選ばれたとすると、1行目の動的変化は「北関東」を基準として処理が行われます。2行目の訪問先エリアに違う値を選んだとしても、1行目には影響しません。それぞれの行が独立して動的変化を起こします。
反復入力内の選択肢しか監視対象に指定できません。
